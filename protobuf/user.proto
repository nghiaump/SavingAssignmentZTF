// user.proto
syntax = "proto3";

package protobuf;

service UserService {
  rpc RegisterUser(RegisterUserRequest) returns (RegisterUserResponse);
  rpc GetCurrentKYC(GetCurrentKYCRequest) returns (GetCurrentKYCResponse);
}

message User{
  // @gotags: es:"user_id"
  string userId = 1;

  // @gotags: es:"cccd"
  string idCardNumber = 2;

  // @gotags: es:"username"
  string userName = 3;

  // @gotags: es:"kyc_level"
  int32 kycLevel = 4;

  // @gotags: es:"registered_date"
  string registeredDate = 5;

  repeated string accountList = 6;
}

message KYC{
  string userId = 1;
  int32 level = 2;
}

message RegisterUserRequest {
  // @gotags: es:"cccd"
  string idCardNumber = 1;

  // @gotags: es:"username"
  string userName = 2;
}

message RegisterUserResponse {
  bool success = 1;
  string userId = 2;
}

message GetCurrentKYCRequest {
  string userId = 1;
}

message GetCurrentKYCResponse {
  string userId = 1;
  int32 kycLevel = 2;
}
